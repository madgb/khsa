<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>찾아라! 건강기능식품 인정마크</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="desktop image-wrapper">
        <div class="section active" id="section0">
            <img class="desktop-first" src="image/desktop/top.png" alt="desktop_image">
        </div>
        <div class="section" id="section1">
            <div class="video">
                <video controls poster="image/poster.png">
                    <source src="image/video.mp4" type="video/mp4">
                    Your browser does not support the video.
                </video>
            </div>
        </div>
        <div class="section" id="section2">
            <div class="wrapper">
                <img src="image/desktop/mid.png" alt="desktop_image">
                <a href="https://www.foodsafetykorea.go.kr/portal/healthyfoodlife/functionality.do?menu_grp=MENU_NEW01&menu_no=2657"
                    target="_blank">
                    <img src="image/desktop/button.png" alt="desktop_image">
                </a>
            </div>
        </div>
        <div class="section" id="section3">
            <div class="wrapper">
                <img src="image/desktop/bottom.png" alt="desktop_image">
                <div class="link">
                    <a href="https://khsa.or.kr" target="_blank"></a>
                </div>
            </div>
        </div>
    </div>
    <div class="mobile image-wrapper">
        <div class="section active" id="section0">
            <img src="image/mobile/top.png" alt="mobile_image">
        </div>
        <div class="section" id="section1">
            <div class="video">
                <video controls poster="image/poster.png">
                    <source src="image/video.mp4" type="video/mp4">
                    Your browser does not support the video.
                </video>
            </div>
        </div>
        <div class="section" id="section2">
            <img class="mobile-yellow" src="image/mobile/mid.png" alt="mobile_image">
            <a href="https://www.foodsafetykorea.go.kr/portal/healthyfoodlife/functionality.do?menu_grp=MENU_NEW01&menu_no=2657"
                class="w-100" target="_blank">
            </a>
        </div>
        <div class="section" id="section3">
            <img src="image/mobile/carocap.png" alt="mobile_image">
            <!-- <div class="link">
                <a href="https://khsa.or.kr" target="_blank"></a>
            </div> -->
            <!-- Slideshow container -->
            <div class="slideshow-container">

                <!-- Full-width images with number and caption text -->
                <div class="mySlides fade">
                    <img src="image/mobile/caro1.png" style="width:100%">
                </div>

                <div class="mySlides fade">
                    <img src="image/mobile/caro2.png" style="width:100%">
                </div>

                <div class="mySlides fade">
                    <img src="image/mobile/caro3.png" style="width:100%">
                </div>

                <!-- Next and previous buttons -->
                <a class="prev" onclick="plusSlides(-1)">
                    <span class="angle angle-prev"></span>
                </a>
                <a class="next" onclick="plusSlides(1)">
                    <span class="angle angle-next"></span>
                </a>
            </div>
            <a href="https://khsa.or.kr" class="w-100" target="_blank">
                <img class="mobile-last-button" src="image/mobile/button2.png" alt="mobile_image">
            </a>
        </div>
    </div>
    <script>
        function toggleIdForSlider(x) {
            if (x.matches) { // If media query matches
                document.querySelector('.mobile').setAttribute("id", "fullpage");
                document.querySelector('.desktop').removeAttribute("id", "fullpage");
            } else {
                document.querySelector('.desktop').setAttribute("id", "fullpage");
                document.querySelector('.mobile').removeAttribute("id", "fullpage");
            }
        }

        var x = window.matchMedia("(max-width: 768px)")
        toggleIdForSlider(x) // Call listener function at run time
        x.addListener(toggleIdForSlider) // Attach listener function on state changes

        var slideIndex = 1;
        showSlides(slideIndex);

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        function currentSlide(n) {
            showSlides(slideIndex = n);
        }

        function showSlides(n) {
            var i;
            var slides = document.getElementsByClassName("mySlides");
            var dots = document.getElementsByClassName("dot");
            if (n > slides.length) {
                slideIndex = 1
            }
            if (n < 1) {
                slideIndex = slides.length
            }
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
        }

        // var target = document.querySelector('.mobile-yellow');

        // var observer = new MutationObserver(function (mutations) {
        //     mutations.forEach(function (mutation) {
        //         adjustHeight();
        //     });
        // });

        // var config = {
        //     attributes: true,
        //     childList: true,
        //     characterData: true
        // };

        // observer.observe(target, config);

        // function adjustHeight() {
        //     var mobileYellowPic = document.querySelector('.mobile-yellow');
        //     if (window.innerHeight > 667) {
        //         mobileYellowPic.style.height = 'auto';
        //         mobileYellowPic.classList.add('get-transform-center');
        //     } else {
        //         mobileYellowPic.style.height = '100%';
        //         mobileYellowPic.classList.remove('get-transform-center');
        //     }
        // }
    </script>
    <script type="text/javascript" src="js/fullpage.js"></script>
    <script type="text/javascript">
        var myFullpage = new fullpage('#fullpage');
    </script>
    <script>
        var removeDiscountBadgeTestObservationAug = {};
        (function () {
            var done = 'done';
            var target = document.querySelector('body');

            if(target){
                removeDiscountBadgeTestObservationAug.observer = new MutationObserver(function(mutations) {
                    applyChanges();
                });
                removeDiscountBadgeTestObservationAug.observer.observe(target, {
                    childList: true,
                    subtree: true
                });

                applyChanges();
            }

            function applyChanges() {
                var mobileYellowPic = document.querySelector('.mobile-yellow');

                if (window.innerHeight > 667) {
                    mobileYellowPic.style.height = 'auto';
                    mobileYellowPic.classList.add('get-transform-center');
                } else {
                    mobileYellowPic.style.height = '100%';
                    mobileYellowPic.classList.remove('get-transform-center');
                }

                var desktopFirst = document.querySelector('.desktop-first');

                if (window.innerHeight > 820) {
                    desktopFirst.style.height = 'auto';
                } else {
                    desktopFirst.style.height = '100%';
                }

                var desktopYellow = document.querySelector('.desktop #section2 .wrapper');

                if (window.innerHeight > 820) {
                    desktopYellow.style.height = 'auto';
                    desktopYellow.classList.add('get-transform-center');
                } else {
                    desktopYellow.style.height = '100%';
                    desktopYellow.classList.remove('get-transform-center');
                }

                var desktopThird = document.querySelector('.desktop #section3 .wrapper');

                if (window.innerHeight > 820) {
                    desktopThird.style.height = 'auto';
                    desktopThird.classList.add('get-transform-center');
                } else {
                    desktopThird.style.height = '100%';
                    desktopThird.classList.remove('get-transform-center');
                }
            }
        })();
    </script>
</body>

</html>